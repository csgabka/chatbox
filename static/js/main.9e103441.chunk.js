(this.webpackJsonpchatbox=this.webpackJsonpchatbox||[]).push([[0],{31:function(e,t,a){e.exports=a(56)},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},51:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(28),o=a.n(c),l=(a(36),a(9)),u=a(10),i=a(12),s=a(11),m=a(29),h=a(3),p=a(16),d=(a(37),function(e){return r.a.createElement("div",null,r.a.createElement("button",{className:"Login",onClick:e.handleSubmit},e.name))}),b=(a(38),function(e){return r.a.createElement("div",null,r.a.createElement("input",{className:"Name",placeholder:e.placeholder,onChange:e.changeHandler}))}),f=(a(39),function(e){return r.a.createElement("div",{className:"Backdrop"},e.children)}),v=(a(40),a(19)),g=a.n(v);g.a.initializeApp({apiKey:"AIzaSyBm9LMz4xuW5uqDyJKDbGYYWsUN3alO8SE",authDomain:"chatbox-c869f.firebaseapp.com",databaseURL:"https://chatbox-c869f.firebaseio.com",projectId:"chatbox-c869f",storageBucket:"chatbox-c869f.appspot.com",messagingSenderId:"245751615680",appId:"1:245751615680:web:a159f1a6cd0a98f9625d25",measurementId:"G-HJSF19GTDN"});new g.a.auth.GoogleAuthProvider,g.a.auth();var E=g.a,j=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).changeHandler=function(t){t.preventDefault(),e.setState({username:t.target.value})},e.handleSubmit=function(t){console.log(e.state.username),t.preventDefault();var a=e.state.username;e.props.history.push({pathname:"/chat",state:{username:a}})},e.state={username:""},e.changeHandler=e.changeHandler.bind(Object(p.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(p.a)(e)),e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Auth"},r.a.createElement("h1",{style:{fontSize:30}},"Chatbox"),r.a.createElement(f,null,r.a.createElement("h1",null,"Login"),r.a.createElement(b,{placeholder:"Type your name...",changeHandler:function(t){return e.changeHandler(t)}}),r.a.createElement(d,{name:"login",handleSubmit:function(t){return e.handleSubmit(t)}})))}}]),a}(n.Component),O=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.chats;return console.log(e),r.a.createElement("div",null,r.a.createElement("ul",null,e.map((function(e,t){var a=new Date(e.timestamp);return r.a.createElement("li",{key:t},e.username," ",a.getDate()+"/"+(a.getMonth()+1),": ",e.message)}))))}}]),a}(n.Component),y=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).changeHandler=function(t){t.preventDefault(),e.setState({message:t.target.value})},e.logoutUser=function(e){e.preventDefault()},e.handleSubmit=function(t){t.preventDefault();var a={message:e.state.message,username:e.props.username,timestamp:(new Date).getTime()};E.database().ref("chat").push(a)},e.state={message:"",chats:[]},e.changeHandler=e.changeHandler.bind(Object(p.a)(e)),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.database().ref("chat").on("value",(function(t){var a=t.val(),n=[];for(var r in a)n.push({message:a[r].message,username:a[r].username,timestamp:a[r].timestamp});e.setState({chats:n})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(d,{name:"logout",handleSubmit:this.logoutUser}),r.a.createElement(O,{chats:this.state.chats}),r.a.createElement(b,{changeHandler:function(t){return e.changeHandler(t)}}),r.a.createElement(d,{handleSubmit:function(t){e.handleSubmit(t)},name:"send"}))}}]),a}(n.Component),S=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Home"),r.a.createElement("h3",null,"Welcome ",this.props.location.state.username,"!!!"),r.a.createElement(y,{username:this.props.location.state.username}))}}]),a}(n.Component),k=(n.Component,a(51),function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(m.a,{basename:"https://csgabka.github.io/chatbox"},r.a.createElement("div",{className:"App"},r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/",exact:!0,component:j}),r.a.createElement(h.a,{path:"/chat",exact:!0,component:S}))))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.9e103441.chunk.js.map